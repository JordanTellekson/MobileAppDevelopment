<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:RecipeApp.ViewModels"
             x:Class="RecipeApp.Views.RecipeDetailPage"
             Title="Recipe Details"
             BackgroundColor="{DynamicResource PageBackgroundColor}">

    <ScrollView>
        <VerticalStackLayout Padding="15">
            <Frame CornerRadius="12" HasShadow="True" 
                   BackgroundColor="{DynamicResource CardBackgroundColor}">

                <Grid RowDefinitions="Auto,*">
                    <!-- Heart positioned slightly higher and tighter -->
                    <Label Text="♥"
                           FontSize="30"
                           TextColor="Red"
                           HorizontalOptions="End"
                           VerticalOptions="Start"
                           Margin="0,0,5,0"
                           IsVisible="{Binding Recipe.IsFavorite}" />

                    <VerticalStackLayout Grid.Row="1" Padding="10">
                        <Image Source="{Binding Recipe.ImageUrl}" 
                               HeightRequest="200" Aspect="AspectFill"/>

                        <Label Text="{Binding Recipe.Title}" 
                               FontSize="24" FontAttributes="Bold"
                               TextColor="{DynamicResource PrimaryTextColor}" 
                               Margin="0,10,0,0"/>

                        <Label Text="{Binding Recipe.CookingTimeMinutes, StringFormat='Cooking Time: {0} mins'}"
                               FontSize="16" 
                               TextColor="{DynamicResource SecondaryTextColor}"/>

                        <Label Text="Ingredients:" 
                               FontSize="18" FontAttributes="Bold" 
                               Margin="0,10,0,0"
                               TextColor="{DynamicResource PrimaryTextColor}"/>

                        <CollectionView ItemsSource="{Binding Recipe.Ingredients}">
                            <CollectionView.ItemTemplate>
                                <DataTemplate>
                                    <Label Text="{Binding ., StringFormat=• {0}}" 
                                           FontSize="16"
                                           TextColor="{DynamicResource SecondaryTextColor}"/>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>

                        <Label Text="Instructions:" 
                               FontSize="18" FontAttributes="Bold" 
                               Margin="0,10,0,0"
                               TextColor="{DynamicResource PrimaryTextColor}"/>

                        <Label Text="{Binding Recipe.Instructions}" 
                               FontSize="16"
                               TextColor="{DynamicResource SecondaryTextColor}"/>
                    </VerticalStackLayout>
                </Grid>
            </Frame>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>